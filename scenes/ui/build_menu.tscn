[gd_scene load_steps=5 format=3]

[ext_resource type="Script" path="res://scripts/ui/build_menu.gd" id="1"]
[ext_resource type="PackedScene" path="res://scenes/ui/resource_card.tscn" id="2"]
[ext_resource type="Resource" path="res://assets/resources/well_resource.tres" id="3"]
[ext_resource type="Script" path="res://scripts/ui/diplomacy_panel.gd" id="4"]

[node name="BuildMenu" type="CanvasLayer"]
layer = 2
script = ExtResource("1")
resource_card_scene = ExtResource("2")
resources = [ExtResource("3")]
characters = []

[node name="ToggleButton" type="Button" parent="."]
unique_name_in_owner = true
text = "Hide Menu"
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
offset_left = 16.0
offset_top = 16.0
offset_right = 120.0
offset_bottom = 48.0

[node name="BuildPanel" type="PanelContainer" parent="."]
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 1.0
offset_left = 16.0
offset_top = 16.0
offset_right = 420.0
offset_bottom = -16.0
size_flags_vertical = 3

[node name="PanelMargin" type="MarginContainer" parent="BuildPanel"]
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_constants/margin_left = 12
theme_override_constants/margin_top = 12
theme_override_constants/margin_right = 12
theme_override_constants/margin_bottom = 12

[node name="PanelVBox" type="VBoxContainer" parent="BuildPanel/PanelMargin"]
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Title" type="Label" parent="BuildPanel/PanelMargin/PanelVBox"]
text = "Build Menu"

[node name="Tabs" type="TabContainer" parent="BuildPanel/PanelMargin/PanelVBox"]
unique_name_in_owner = true
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Resources" type="MarginContainer" parent="BuildPanel/PanelMargin/PanelVBox/Tabs"]
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="ResourcesVBox" type="VBoxContainer" parent="BuildPanel/PanelMargin/PanelVBox/Tabs/Resources"]
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="ResourcesScroll" type="ScrollContainer" parent="BuildPanel/PanelMargin/PanelVBox/Tabs/Resources/ResourcesVBox"]
unique_name_in_owner = true
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="ResourcesGrid" type="GridContainer" parent="BuildPanel/PanelMargin/PanelVBox/Tabs/Resources/ResourcesVBox/ResourcesScroll"]
unique_name_in_owner = true
size_flags_horizontal = 3
size_flags_vertical = 3
columns = 2

[node name="Buildings" type="MarginContainer" parent="BuildPanel/PanelMargin/PanelVBox/Tabs"]
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="BuildingsVBox" type="VBoxContainer" parent="BuildPanel/PanelMargin/PanelVBox/Tabs/Buildings"]
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="BuildingsScroll" type="ScrollContainer" parent="BuildPanel/PanelMargin/PanelVBox/Tabs/Buildings/BuildingsVBox"]
unique_name_in_owner = true
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="BuildingsGrid" type="GridContainer" parent="BuildPanel/PanelMargin/PanelVBox/Tabs/Buildings/BuildingsVBox/BuildingsScroll"]
unique_name_in_owner = true
size_flags_horizontal = 3
size_flags_vertical = 3
columns = 2

[node name="Characters" type="MarginContainer" parent="BuildPanel/PanelMargin/PanelVBox/Tabs"]
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="CharactersVBox" type="VBoxContainer" parent="BuildPanel/PanelMargin/PanelVBox/Tabs/Characters"]
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="CharactersScroll" type="ScrollContainer" parent="BuildPanel/PanelMargin/PanelVBox/Tabs/Characters/CharactersVBox"]
unique_name_in_owner = true
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="CharactersGrid" type="GridContainer" parent="BuildPanel/PanelMargin/PanelVBox/Tabs/Characters/CharactersVBox/CharactersScroll"]
unique_name_in_owner = true
size_flags_horizontal = 3
size_flags_vertical = 3
columns = 2

[node name="Factions" type="MarginContainer" parent="BuildPanel/PanelMargin/PanelVBox/Tabs"]
script = ExtResource("4")
focus_selector_path = NodePath("DiploVBox/DiploFocus")
details_label_path = NodePath("DiploVBox/DiploDetails")
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="DiploVBox" type="VBoxContainer" parent="BuildPanel/PanelMargin/PanelVBox/Tabs/Factions"]
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="DiploTitle" type="Label" parent="BuildPanel/PanelMargin/PanelVBox/Tabs/Factions/DiploVBox"]
text = "Factions"

[node name="DiploFocus" type="OptionButton" parent="BuildPanel/PanelMargin/PanelVBox/Tabs/Factions/DiploVBox"]
unique_name_in_owner = true
size_flags_horizontal = 3

[node name="DiploDetails" type="RichTextLabel" parent="BuildPanel/PanelMargin/PanelVBox/Tabs/Factions/DiploVBox"]
unique_name_in_owner = true
size_flags_horizontal = 3
size_flags_vertical = 3
fit_content = true
bbcode_enabled = false
text = "No factions."

[node name="HintLabel" type="Label" parent="BuildPanel/PanelMargin/PanelVBox"]
unique_name_in_owner = true
visible = false
text = "Выберите клетку для строительства."
autowrap_mode = 3
theme_override_colors/font_color = Color(0.87, 0.42, 0.27, 1)
